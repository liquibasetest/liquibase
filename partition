CREATE OR REPLACE PROCEDURE create_partitioned_external_test(
    inputname STRING,
    filelocation STRING
)
RETURNS STRING
LANGUAGE JAVASCRIPT
EXECUTE AS CALLER
AS
$$
var inputname = typeof inputname !== 'undefined' ? inputname : '';
var filelocation = typeof filelocation !== 'undefined' ? filelocation : '';

try {
    var stage = '@mystage/';
    var file_format = 'my_parquet_format';
    var location = stage + filelocation + '/';

    return inputname; // Return inputname here
} catch (err) {
    return 'Error: ' + err.message;
}
$$;
